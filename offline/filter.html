
<script id="sublist" type="x-handlebars-template">
    {{#each items}} {{! Each item is an "li" }}
    <li class="dropdown-item">
        <a href="#">{{name}}</a>
        {{#if items}} {{! Within the context of the current item }}
        <ul class="inner-menu">
            {{> sublist}} {{! Recursively render the partial }}
        </ul>
        {{/if}}
    </li>
    {{/each}}
</script>
<script id="filterlist" type="x-handlebars-template">
    <button class="btn btn-sm dropdown-toggle control-150" type="button" id="menu1" data-toggle="dropdown">filterName<span class="caret"></span></button>
    {{! displays the li's from sublist }}
    <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
        {{> sublist}}
    </ul>
</script>

<script>
(function () {
    'use strict';

    var renderTheFilter = function (items, filterArea) {
        console.log('renderOrgDD');

        // The main template.
        var main = Handlebars.compile($("#filterlist").html());

        // Register the list partial that "main" uses.
        Handlebars.registerPartial("sublist", $("#sublist").html());

        // Render the list.
        $("#" + filterArea).html(main({ items: items }));
    };

    //var getOrgHierarchy = function (callBack) {
    //    var data = {};
    //    var url = "/data/nichols.json";
    //    $.ajax({
    //        method: "GET",
    //        url: url,
    //        data: data,
    //        dataType: "script",
    //        beforeSend: function () {

    //        },
    //        success: function (data) {
    //            data = JSON.parse(data);
    //            var func = callBack;
    //            func.call(null, data);
    //        },
    //        error: function (err) {
    //            console.log("error: " + err);
    //        }
    //    });
    //};
})();

</script>